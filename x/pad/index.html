
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
<div class="js-toolbar" style="display: none">tool</div>
<div class="content"></div>
<button id="openAppButton">吊起app</button>
</body>
<script src="./vconsole.min.js"></script>
<script>
    new VConsole()
    document.querySelector('.content').innerText+='设备标识：'+navigator.userAgent
    document.querySelector('.content').innerText+='\n设备宽度：'+window.screen.width
    document.querySelector('.content').innerText+='\n设备可见部分宽度：'+window.innerWidth
    document.querySelector('.content').innerText+='\n设备高度度：'+window.screen.height
    document.querySelector('.content').innerText+='\n侦测屏幕方向：'+window.orientation

    document.addEventListener('touchend', function() {
        const selection = window.getSelection().toString().trim();
        if (selection !== '') {
            const targetEl = document.querySelector('.js-toolbar')
            const computedStyle = window.getComputedStyle(targetEl);
            const display = targetEl.style.display
            if (computedStyle && computedStyle.display !== 'none') {
                console.log('Element is visible.');
            } else {
                console.log('Element is not visible.');
                console.log(display)
            }
        }
    });

    document.getElementById('openAppButton').addEventListener('click', function() {
        window.location.href = 'psmc://' + window.location.host+ "/read"
        // window.location.href = "https://a.app.qq.com/o/simple.jsp?pkgname=cnki.net.psmc";
    });


    // document.addEventListener('mousedown', function() {
    //     const targetEl = document.querySelector('.js-toolbar')
    //     targetEl.style.display = 'none'
    // });
</script>
</html>
